{% extends 'index.html' %}
{% block body %}
	{% if loggedIn %}
		<script src="{{ url_for('static', filename='js/api.js') }}" type="text/javascript"></script>
	{% else %}
		<script type="text/javascript">
			function resgisterAPI() {
				window.location.href = '/login'
			}
		</script>
	{% endif %}


	<div class="row">
		<div class="col-sm-2 col-md-2 col-lg-2"></div>
		<div class="col-sm-8 col-md-8 col-lg-8 text-center">
			<h1>API</h1>
		</div>
		<div class="col-sm-2 col-md-2 col-lg-2"></div>
	</div>

	<div class="row">

		<div class="col-sm-2 col-md-2 col-lg-2"></div>



		<div class="col-sm-8 col-md-8 col-lg-8 text-center">
			<form class="form-horizontal" method="POST">
				<div id="type_API" class="form-group" style="display: none;"></div>
				
				<div class="form-group">
					<label class="control-label col-sm-2">API key:</label>
					<div class="col-sm-8">
						<input id="key" class="form-control" type="text" name="api_key" value="{{ api_key }}" readonly>
					</div>
					<div class="col-sm-2">
						<input id="keyButton" 
							class="btn btn-default"
							type="button"
							name="Generate_Key"
							value="Generate Key"
							onclick = "resgisterAPI()">
					</div>
				</div>

				<div id="categories" class="form-group" style="display: none;"></div>

				<div id="requestButton" class="form-group" style="display: none;"></div>
			</form>
		</div>
		{% if api_key != None %}
			<script type="text/javascript">
				renderAPI_form();
			</script>
		{% else %}
			<script type="text/javascript">$('#key').attr('value','')</script>
		{% endif %}

		<div class="col-sm-2 col-md-2 col-lg-2"></div>
	</div>



{% endblock %}